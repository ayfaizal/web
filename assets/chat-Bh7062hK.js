import{a as E,b as ce,f as de}from"./formatters-zPA0pF4b.js";import{b5 as ue,r as V,a1 as L,a as q,m as e,o as u,c as g,b as t,e as n,t as D,v as C,a3 as $,d as s,a2 as p,x as S,f as k,am as R,F as w,y as I,a9 as F,ba as he,h as O,J as W,K as X,a0 as me,bb as fe,w as pe,ay as ve,bc as Z,aO as ge,aM as G}from"./index-VU0dmoHZ.js";import{_ as _e}from"./CallingDialog-PhUfSprV.js";import{u as Ce}from"./useApi-DHFWqMSv.js";import{c as be}from"./createUrl-BhvyS9BG.js";import{$ as ee}from"./api-Cp89FJ6x.js";import{P as j}from"./vue3-perfect-scrollbar.esm-CKkShybS.js";import{V as xe}from"./VSnackbar-CX-P1Ayc.js";import{V as A}from"./VAvatar-B0yljh3k.js";import{V as T}from"./VImg-BNqJuZG0.js";import{V as z}from"./VBadge-gIlJ6WRl.js";import{V as se}from"./VTextField-CRe8TF0Y.js";import{V as oe}from"./VDivider-BdZVMXth.js";import{V as ye}from"./VTextarea-C23gbXyu.js";import{V as Ve,a as $e}from"./VRadioGroup-HAO1i3rD.js";import{V as H}from"./VSpacer-DIW3Gp5e.js";import{V as te}from"./VSwitch-CXB4wKMc.js";import{u as ke,a as we,V as Ue}from"./VMain-G98gMn7d.js";import{V as J}from"./VNavigationDrawer-Dm7lBkUR.js";import{V as Se}from"./VMenu-DngO4Bzq.js";import{V as Ie}from"./VList-DhXfVcoA.js";import{V as Ae}from"./VForm-Dkf4DVK-.js";import"./helpers-DK5QwNv0.js";import"./VCard-DttbPEhw.js";import"./VCardText-uyCvIofY.js";import"./VDialog-bGaStrcf.js";import"./VOverlay-BZO4hDjN.js";import"./easing-CjukEv2V.js";import"./lazy-CTD-MLkl.js";import"./scopeId-DwszM4ys.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-ClMl6VK0.js";import"./index-Bbh44Qwm.js";/* empty css                   */import"./VCounter-BnJ4X-op.js";import"./VField-TfdV7Sv1.js";import"./form-D37_K2HO.js";import"./VInput-DUnqEF-j.js";import"./VSelectionControl-Dht4FwVx.js";/* empty css              */import"./ssrBoot-Cx7lQdW-.js";const B=ue("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(x){const{data:l,error:a}=await Ce(be("/apps/chat/chats-and-contacts",{query:{q:x}}));if(a.value)console.log(a.value);else{const{chatsContacts:h,contacts:v,profileUser:r}=l.value;this.chatsContacts=h,this.contacts=v,this.profileUser=r}},async getChat(x){const l=await ee(`/apps/chat/chats/${x}`);this.activeChat=l},async sendMsg(x){var m,o,c,f,i;const l=(m=this.profileUser)==null?void 0:m.id,a=await ee(`apps/chat/chats/${(o=this.activeChat)==null?void 0:o.contact.id}`,{method:"POST",body:{message:x,senderId:l}}),{msg:h,chat:v}=a;if(v!==void 0){const U=this.activeChat;this.chatsContacts.push({...U.contact,chat:{id:v.id,lastMessage:[],unseenMsgs:0,messages:[h]}}),this.activeChat&&(this.activeChat.chat={id:v.id,messages:[h],unseenMsgs:0,userId:(c=this.activeChat)==null?void 0:c.contact.id})}else(i=(f=this.activeChat)==null?void 0:f.chat)==null||i.messages.push(h);const r=this.chatsContacts.find(U=>this.activeChat?U.id===this.activeChat.contact.id:!1);r.chat.lastMessage=h}}}),P=()=>({resolveAvatarBadgeVariant:l=>l==="online"?"success":l==="busy"?"error":l==="away"?"warning":"secondary"}),De={class:"text-center px-6 mt-n2"},ze={key:1,class:"text-3xl"},Te={class:"text-h5"},Be={class:"text-body-1 mb-0"},Me={class:"my-6"},Ne=s("p",{for:"textarea-user-about",class:"text-base text-disabled mb-1"}," ABOUT ",-1),Oe={class:"text-body-1 mb-0"},Pe={class:"mb-6"},Le=s("p",{class:"text-base text-disabled mb-1"}," PERSONAL INFORMATION ",-1),Re={class:"d-flex align-center pa-2"},Fe={class:"text-h6 font-weight-regular"},Ee={class:"text-h6 font-weight-regular"},qe={class:"d-flex align-center pa-2"},je=s("h6",{class:"text-h6 font-weight-regular"}," Mon - Fri 10AM - 8PM ",-1),Je={class:"pb-5"},He=s("p",{class:"text-base text-disabled mb-1"}," OPTIONS ",-1),Ke={class:"d-flex align-center pa-2"},Ye=s("h6",{class:"text-h6 font-weight-regular"}," Add Tag ",-1),Qe={class:"d-flex align-center pa-2"},We=s("h6",{class:"text-h6 font-weight-regular"}," Important Contact ",-1),Xe={class:"d-flex align-center pa-2"},Ze=s("h6",{class:"text-h6 font-weight-regular"}," Shared Media ",-1),Ge={class:"d-flex align-center pa-2"},et=s("h6",{class:"text-h6 font-weight-regular"}," Block Contact ",-1),tt={__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(x,{emit:l}){const a=B(),{resolveAvatarBadgeVariant:h}=P(),v=V(!1),r=V("");L(),L.isVerticalNavCollapsed=!1;function m(o){L.isVerticalNavCollapsed=!1,alert("Before Calling 8056883387"),L.piopiy.call("918056883387"),alert("After Calling"),v.value=!0,r.value="Calling 8056883387"}return(o,c)=>{const f=q("IconBtn");return e(a).activeChat?(u(),g(w,{key:0},[t(xe,{modelValue:e(v),"onUpdate:modelValue":c[0]||(c[0]=i=>$(v)?v.value=i:null),timeout:2e3},{default:n(()=>[D(C(e(r)),1)]),_:1},8,["modelValue"]),s("div",{class:S(["me-3 pt-3",o.$vuetify.locale.isRtl?"text-left":"text-right"])},[t(f,{onClick:c[1]||(c[1]=i=>o.$emit("close"))},{default:n(()=>[t(p,{icon:"ri-close-line",class:"text-medium-emphasis",size:"24"})]),_:1})],2),s("div",De,[t(z,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:e(h)(e(a).activeChat.contact.status),class:"chat-user-profile-badge mb-4"},{default:n(()=>[t(A,{size:"84",variant:e(a).activeChat.contact.avatar?void 0:"tonal",color:e(a).activeChat.contact.avatar?void 0:e(h)(e(a).activeChat.contact.status)},{default:n(()=>[e(a).activeChat.contact.avatar?(u(),k(T,{key:0,src:e(a).activeChat.contact.avatar},null,8,["src"])):(u(),g("span",ze,C(("avatarText"in o?o.avatarText:e(E))(e(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",Te,C(e(a).activeChat.contact.fullName),1),s("p",Be,C(e(a).activeChat.contact.role),1)]),t(e(j),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-5 px-5",options:{wheelPropagation:!1}},{default:n(()=>[s("div",Me,[Ne,s("p",Oe,C(e(a).activeChat.contact.about),1)]),s("div",Pe,[Le,s("div",Re,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-mail-line"}),s("h6",Fe,C(e(a).activeChat.contact.emailid),1)]),s("div",{class:"d-flex align-center pa-2",onClick:c[2]||(c[2]=i=>m("eee"))},[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-phone-line"}),s("h6",Ee," +"+C(e(a).activeChat.contact.countrycode)+" - "+C(e(a).activeChat.contact.contactno),1)]),s("div",qe,[t(p,{class:"me-2",size:"22",icon:"ri-time-line",color:"high-emphasis"}),je])]),s("div",Je,[He,s("div",Ke,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-bookmark-line"}),Ye]),s("div",Qe,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-user-star-line"}),We]),s("div",Xe,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-image-2-line"}),Ze]),s("div",Ge,[t(p,{size:"22",color:"high-emphasis",icon:"ri-forbid-2-line",class:"me-2"}),et])]),t(R,{block:"",color:"error","append-icon":"ri-delete-bin-7-line",class:"mt-15"},{default:n(()=>[D(" Delete Contact ")]),_:1})]),_:1})],64)):I("",!0)}}},at=["data-x"],st={key:1},ot={class:"flex-grow-1 ms-4 overflow-hidden"},it={class:"text-base mb-0"},lt={class:"d-block text-body-2 text-truncate"},nt={key:0,class:"d-flex flex-column align-self-start"},rt={class:"d-block text-sm text-disabled whitespace-no-wrap"},ae={__name:"ChatContact",props:{isChatContact:{type:Boolean,required:!1,default:!1},user:{type:null,required:!0}},setup(x){const l=x,a=B(),{resolveAvatarBadgeVariant:h}=P(),v=F(()=>{var m,o;const r=((m=a.activeChat)==null?void 0:m.contact.id)===l.user.id;return(l.isChatContact||!((o=a.activeChat)!=null&&o.chat))&&r});return(r,m)=>(u(),g("li",{key:e(a).chatsContacts.length,class:S(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":e(v)}]),"data-x":e(a).chatsContacts.length},[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(h)(l.user.status),bordered:"","model-value":l.isChatContact},{default:n(()=>[t(A,{size:"40",variant:l.user.avatar?void 0:"tonal",color:l.user.avatar?void 0:e(h)(l.user.status)},{default:n(()=>[l.user.avatar?(u(),k(T,{key:0,src:l.user.avatar,alt:"John Doe"},null,8,["src"])):(u(),g("span",st,C(("avatarText"in r?r.avatarText:e(E))(x.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),s("div",ot,[s("p",it," **"+C(l.user.fullName),1),s("span",lt,"**"+C(l.isChatContact&&"chat"in l.user?l.user.chat.lastMessage.message:l.user.about),1)]),l.isChatContact&&"chat"in l.user?(u(),g("div",nt,[s("span",rt,C(("formatDateToMonthShort"in r?r.formatDateToMonthShort:e(ce))(l.user.chat.lastMessage.time)),1),l.user.chat.unseenMsgs?(u(),k(z,{key:0,color:"error",inline:"",content:l.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):I("",!0)])):I("",!0)],10,at))}},ct={key:0,class:"chat-list-header gap-4"},dt=s("li",{class:"list-none"},[s("span",{class:"chat-contact-header d-block text-primary text-lg font-weight-medium"},"Chats")],-1),ut={class:"no-chat-items-text text-disabled"},ht=s("li",{class:"list-none"},[s("span",{class:"chat-contact-header d-block text-primary text-lg font-weight-medium mt-5"},"Contacts")],-1),mt={class:"no-chat-items-text text-disabled"},ft={__name:"ChatLeftSidebarContent",props:{search:{type:String,required:!0},isDrawerOpen:{type:Boolean,required:!0}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(x,{emit:l}){const a=x,h=l,{resolveAvatarBadgeVariant:v}=P(),r=he(a,"search",h),m=B();return(o,c)=>{const f=q("IconBtn");return u(),g(w,null,[e(m).profileUser?(u(),g("div",ct,[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(v)(e(m).profileUser.status),bordered:""},{default:n(()=>[t(A,{class:"cursor-pointer",onClick:c[0]||(c[0]=i=>o.$emit("showUserProfile"))},{default:n(()=>[t(T,{src:e(m).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),t(se,{modelValue:e(r),"onUpdate:modelValue":c[1]||(c[1]=i=>$(r)?r.value=i:null),placeholder:"Search...","prepend-inner-icon":"ri-search-line",density:"compact",class:"chat-list-search"},null,8,["modelValue"]),o.$vuetify.display.smAndDown?(u(),k(f,{key:0,onClick:c[2]||(c[2]=i=>o.$emit("close"))},{default:n(()=>[t(p,{icon:"ri-close-line",class:"text-medium-emphasis"})]),_:1})):I("",!0)])):I("",!0),t(oe),t(e(j),{tag:"ul",class:"chat-contacts-list px-3 d-flex flex-column gap-1",options:{wheelPropagation:!1}},{default:n(()=>[dt,(u(!0),g(w,null,O(e(m).chatsContacts,i=>(u(),k(ae,{key:`chat-${i.id}`,user:i,"is-chat-contact":"",onClick:U=>o.$emit("openChatOfContact",i.id)},null,8,["user","onClick"]))),128)),W(s("span",ut,"No chats found",512),[[X,!e(m).chatsContacts.length]]),ht,(u(!0),g(w,null,O(e(m).contacts,i=>(u(),k(ae,{key:`chat-${i.id}`,user:i,onClick:U=>o.$emit("openChatOfContact",i.id)},null,8,["user","onClick"]))),128)),W(s("span",mt,"No contacts found",512),[[X,!e(m).contacts.length]])]),_:1})],64)}}},pt={class:"chat-log pa-3"},vt={class:"mb-0"},gt={class:"text-caption text-disabled mb-0",style:{"letter-spacing":"0.4px"}},_t={__name:"ChatLog",setup(x){const l=B(),a=F(()=>{var r,m;return{id:(r=l.activeChat)==null?void 0:r.contact.id,avatar:(m=l.activeChat)==null?void 0:m.contact.avatar}}),h=r=>r.isSeen?{icon:"ri-check-double-line",color:"info"}:r.isDelivered?{icon:"ri-check-double-line",color:"info-darken-1"}:{icon:"ri-check-line",color:"primary"},v=F(()=>{let r=[];const m=[];if(l.activeChat.chat){r=l.activeChat.chat.messages;let o=r[0].senderId,c={senderId:o,messages:[]};r.forEach((f,i)=>{o===f.senderId?c.messages.push({message:f.message,time:f.time,feedback:f.feedback}):(o=f.senderId,m.push(c),c={senderId:f.senderId,messages:[{message:f.message,time:f.time,feedback:f.feedback}]}),i===r.length-1&&m.push(c)})}return m});return(r,m)=>(u(),g("div",pt,[(u(!0),g(w,null,O(e(v),(o,c)=>(u(),g("div",{key:o.senderId+String(c),class:S(["chat-group d-flex align-start",[{"flex-row-reverse":o.senderId!==e(a).id,"mb-10":e(v).length-1!==c}]])},[s("div",{class:S(["chat-avatar",o.senderId!==e(a).id?"ms-4":"me-4"])},[t(A,{size:"32"},{default:n(()=>{var f;return[t(T,{src:o.senderId===e(a).id?e(a).avatar:(f=e(l).profileUser)==null?void 0:f.avatar},null,8,["src"])]}),_:2},1024)],2),s("div",{class:S(["chat-body d-inline-flex flex-column",o.senderId!==e(a).id?"align-end":"align-start"])},[(u(!0),g(w,null,O(o.messages,(f,i)=>(u(),g("div",{key:f.time,class:S(["chat-content text-body-1 py-2 px-4 elevation-2",[o.senderId===e(a).id?"bg-surface chat-left":"bg-wa-sendbyme text-black chat-right",o.messages.length-1!==i?"mb-2":"mb-1"]])},[s("p",vt,C(f.message),1)],2))),128)),s("div",{class:S([{"text-right":o.senderId!==e(a).id},"d-flex align-center gap-2"])},[o.senderId!==e(a).id?(u(),k(p,{key:0,size:"16",color:h(o.messages[o.messages.length-1].feedback).color},{default:n(()=>[D(C(h(o.messages[o.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):I("",!0),s("p",gt,C(("formatDate"in r?r.formatDate:e(de))(o.messages[o.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}},Ct={class:"me-3 pt-3 text-end"},bt={class:"text-center px-6 mt-n2"},xt={key:1,class:"text-3xl"},yt={class:"text-h5"},Vt={class:"text-body-1 text-capitalize mb-0"},$t={class:"my-6 text-medium-emphasis"},kt=s("p",{for:"textarea-user-about",class:"text-base text-disabled mb-0"}," ABOUT ",-1),wt={class:"mb-6"},Ut=s("p",{class:"text-base text-disabled mb-0"}," STATUS ",-1),St={class:"text-medium-emphasis chat-settings-section"},It=s("p",{class:"text-base text-disabled mb-1"}," SETTINGS ",-1),At={class:"d-flex align-center pa-2"},Dt=s("h6",{class:"text-h6 font-weight-regular"}," Two-step Verification ",-1),zt={class:"d-flex align-center pa-2"},Tt=s("h6",{class:"text-h6 font-weight-regular"}," Notification ",-1),Bt={class:"d-flex align-center pa-2"},Mt=s("h6",{class:"text-h6 font-weight-regular"}," Invite Friends ",-1),Nt={class:"d-flex align-center pa-2"},Ot=s("h6",{class:"text-h6 font-weight-regular"}," Delete Account ",-1),Pt={__name:"ChatUserProfileSidebarContent",emits:["close"],setup(x,{emit:l}){const a=B(),{resolveAvatarBadgeVariant:h}=P(),v=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not Disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],r=V(!0),m=V(!1);return(o,c)=>{const f=q("IconBtn");return e(a).profileUser?(u(),g(w,{key:0},[s("div",Ct,[t(f,{onClick:c[0]||(c[0]=i=>o.$emit("close"))},{default:n(()=>[t(p,{class:"text-medium-emphasis",icon:"ri-close-line",size:"24"})]),_:1})]),s("div",bt,[t(z,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:e(h)(e(a).profileUser.status),class:"chat-user-profile-badge mb-4"},{default:n(()=>[t(A,{size:"84",variant:e(a).profileUser.avatar?void 0:"tonal",color:e(a).profileUser.avatar?void 0:e(h)(e(a).profileUser.status)},{default:n(()=>[e(a).profileUser.avatar?(u(),k(T,{key:0,src:e(a).profileUser.avatar},null,8,["src"])):(u(),g("span",xt,C(("avatarText"in o?o.avatarText:e(E))(e(a).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",yt,C(e(a).profileUser.fullName),1),s("p",Vt,C(e(a).profileUser.role),1)]),t(e(j),{class:"ps-chat-user-profile-sidebar-content pb-5 px-5",options:{wheelPropagation:!1}},{default:n(()=>[s("div",$t,[kt,t(ye,{id:"textarea-user-about",modelValue:e(a).profileUser.about,"onUpdate:modelValue":c[1]||(c[1]=i=>e(a).profileUser.about=i),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),s("div",wt,[Ut,t(Ve,{modelValue:e(a).profileUser.status,"onUpdate:modelValue":c[2]||(c[2]=i=>e(a).profileUser.status=i),class:"mt-1"},{default:n(()=>[(u(),g(w,null,O(v,i=>t($e,{key:i.title,label:i.title,value:i.value,color:i.color},null,8,["label","value","color"])),64))]),_:1},8,["modelValue"])]),s("div",St,[It,s("div",At,[t(p,{class:"me-2",icon:"ri-lock-password-line",size:"22",color:"high-emphasis"}),Dt,t(H),t(te,{modelValue:e(r),"onUpdate:modelValue":c[3]||(c[3]=i=>$(r)?r.value=i:null),density:"compact"},null,8,["modelValue"])]),s("div",zt,[t(p,{class:"me-2",icon:"ri-notification-line",size:"22",color:"high-emphasis"}),Tt,t(H),t(te,{modelValue:e(m),"onUpdate:modelValue":c[4]||(c[4]=i=>$(m)?m.value=i:null)},null,8,["modelValue"])]),s("div",Bt,[t(p,{class:"me-2",icon:"ri-user-add-line",size:"22",color:"high-emphasis"}),Mt]),s("div",Nt,[t(p,{class:"me-2",icon:"ri-delete-bin-7-line",size:"22",color:"high-emphasis"}),Ot])]),t(R,{block:"",color:"primary",class:"mt-11","append-icon":"ri-logout-box-r-line"},{default:n(()=>[D(" Logout ")]),_:1})]),_:1})],64)):I("",!0)}}},Lt={key:0,class:"d-flex flex-column h-100"},Rt={class:"active-chat-header d-flex align-center text-medium-emphasis",style:{"background-color":"ghostwhite"}},Ft={key:1},Et={class:"flex-grow-1 overflow-hidden"},qt={class:"text-h6 font-weight-bold"},jt={class:"text-body-2 text-truncate mb-0"},Jt={class:"d-sm-flex align-center gap-1 d-none"},Ht={class:"d-flex gap-1 align-center"},Kt={key:1,class:"d-flex h-100 align-center justify-center flex-column"},Yt={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},Na={__name:"chat",setup(x){me(b=>({"4c204015":e(re)}));const l=fe(),a=B(),{isLeftSidebarOpen:h}=ke(l.smAndDown),{resolveAvatarBadgeVariant:v}=P(),r=V(),m=()=>{const b=r.value.$el||r.value;b.scrollTop=b.scrollHeight},o=V(!1),c=V("");pe(c,b=>a.fetchChatsAndContacts(b),{immediate:!0});const f=()=>{l.mdAndUp.value||(h.value=!0)},i=V(""),U=async()=>{i.value.trim()&&(await a.sendMsg(i.value),i.value="",G(()=>{m()}))},ie=async b=>{await a.getChat(b),i.value="";const d=a.chatsContacts.find(y=>y.id===b);d&&(d.chat.unseenMsgs=0),l.smAndDown.value&&(h.value=!1),G(()=>{m()})},M=V(!1),N=V(!1),K=V(),le=[{title:"View Contact",value:"View Contact"},{title:"Mute Notifications",value:"Mute Notifications"},{title:"Block Contact",value:"Block Contact"},{title:"Clear Chat",value:"Clear Chat"},{title:"Report",value:"Report"}],{name:ne}=ve(),re=F(()=>{var d,y;let b="transparent";return Z&&(b=(y=(d=Z)==null?void 0:d[ne.value].colors)==null?void 0:y["chat-bg"]),b});return(b,d)=>{const y=q("IconBtn");return u(),g(w,null,[t(Ue,{class:"chat-app-layout bg-surface",style:{"block-size":"auto",zoom:"0.8"}},{default:n(()=>[t(J,{modelValue:e(M),"onUpdate:modelValue":d[1]||(d[1]=_=>$(M)?M.value=_:null),temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:n(()=>[t(Pt,{onClose:d[0]||(d[0]=_=>M.value=!1)})]),_:1},8,["modelValue"]),t(J,{modelValue:e(N),"onUpdate:modelValue":d[3]||(d[3]=_=>$(N)?N.value=_:null),width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:n(()=>[t(tt,{onClose:d[2]||(d[2]=_=>N.value=!1)})]),_:1},8,["modelValue"]),t(J,{modelValue:e(h),"onUpdate:modelValue":d[8]||(d[8]=_=>$(h)?h.value=_:null),absolute:"",touchless:"",location:"start",width:"370",temporary:b.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:b.$vuetify.display.mdAndUp},{default:n(()=>[t(ft,{isDrawerOpen:e(h),"onUpdate:isDrawerOpen":d[4]||(d[4]=_=>$(h)?h.value=_:null),search:e(c),"onUpdate:search":d[5]||(d[5]=_=>$(c)?c.value=_:null),onOpenChatOfContact:ie,onShowUserProfile:d[6]||(d[6]=_=>M.value=!0),onClose:d[7]||(d[7]=_=>h.value=!1)},null,8,["isDrawerOpen","search"])]),_:1},8,["modelValue","temporary","permanent"]),t(we,{class:"chat-content-container",style:{"background-color":"#ece5dd"}},{default:n(()=>[e(a).activeChat?(u(),g("div",Lt,[s("div",Rt,[t(y,{class:"d-md-none me-4",onClick:d[9]||(d[9]=_=>h.value=!0)},{default:n(()=>[t(p,{icon:"ri-menu-line"})]),_:1}),s("div",{class:"d-flex align-center cursor-pointer",onClick:d[10]||(d[10]=_=>N.value=!0)},[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(v)(e(a).activeChat.contact.status),bordered:"",class:"me-4"},{default:n(()=>[t(A,{size:"40",variant:e(a).activeChat.contact.avatar?void 0:"tonal",color:e(a).activeChat.contact.avatar?void 0:e(v)(e(a).activeChat.contact.status),class:"cursor-pointer"},{default:n(()=>[e(a).activeChat.contact.avatar?(u(),k(T,{key:0,src:e(a).activeChat.contact.avatar,alt:e(a).activeChat.contact.fullName},null,8,["src","alt"])):(u(),g("span",Ft,C(("avatarText"in b?b.avatarText:e(E))(e(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("div",Et,[s("h6",qt,C(e(a).activeChat.contact.fullName),1),s("p",jt,C(e(a).activeChat.contact.role),1)])]),t(H),s("div",Jt,[t(y,{size:"small",onClick:d[11]||(d[11]=_=>o.value=!0)},{default:n(()=>[t(p,{icon:"ri-phone-line"})]),_:1}),t(y,{size:"small"},{default:n(()=>[t(p,{icon:"ri-video-add-line"})]),_:1}),t(y,{size:"small"},{default:n(()=>[t(p,{icon:"ri-search-line"})]),_:1}),t(y,{size:"small"},{default:n(()=>[t(p,{icon:"ri-more-2-line"}),t(Se,{activator:"parent"},{default:n(()=>[t(Ie,{items:le})]),_:1})]),_:1})])]),t(oe),t(e(j),{ref_key:"chatLogPS",ref:r,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:n(()=>[t(_t)]),_:1},512),t(Ae,{class:"chat-log-message-form mb-5 mx-5",onSubmit:ge(U,["prevent"])},{default:n(()=>{var _;return[(u(),k(se,{key:(_=e(a).activeChat)==null?void 0:_.contact.id,modelValue:e(i),"onUpdate:modelValue":d[13]||(d[13]=Y=>$(i)?i.value=Y:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":n(()=>[s("div",Ht,[t(y,{size:"small"},{default:n(()=>[t(p,{icon:"ri-mic-line"})]),_:1}),t(y,{size:"small",onClick:d[12]||(d[12]=Y=>{var Q;return(Q=e(K))==null?void 0:Q.click()})},{default:n(()=>[t(p,{icon:"ri-attachment-2"})]),_:1}),t(R,{"append-icon":"ri-send-plane-line",onClick:U},{default:n(()=>[D(" Send ")]),_:1})])]),_:1},8,["modelValue"])),s("input",{ref_key:"refInputEl",ref:K,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(u(),g("div",Kt,[t(A,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:n(()=>[t(p,{size:"50",class:"rounded-0",icon:"ri-wechat-line"})]),_:1}),b.$vuetify.display.smAndDown?(u(),k(R,{key:0,rounded:"pill",onClick:f},{default:n(()=>[D(" Start Conversation ")]),_:1})):(u(),g("p",Yt," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1}),t(_e,{isDialogVisible:e(o),"onUpdate:isDialogVisible":d[14]||(d[14]=_=>$(o)?o.value=_:null),"confirmation-question":"Confirm to Call?","confirm-title":"Deactivated!","confirm-msg":"Your account has been deactivated successfully.","cancel-title":"Cancelled","cancel-msg":"Account Deactivation Cancelled!"},null,8,["isDialogVisible"])],64)}}};export{Na as default};
